webpackJsonp([34],{dh3T:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={data:function(){return{labelPosition:"left",editLoading:!1,titleArr:[],categoryOption:[],form:{wechatSupported:!1,free:!1},rules:{code:[{required:!0,message:"请输入保障产品编号",trigger:"blur"}],name:[{required:!0,message:"请输入保障名称",trigger:"blur"}],holderId:[{required:!0,message:"请选择投保人",trigger:"blur"}],coverage:[{required:!0,message:"请输入保额",trigger:"blur"}],category:[{required:!0,message:"请选择险种",trigger:"blur"}],span:[{required:!0,message:"请输入期数（月）",trigger:"blur"}],priority:[{required:!0,message:"请输入优先级",trigger:"blur"}],wechatSupported:[{required:!0,message:"请选择是否支持微信进件",trigger:"blur"}],free:[{required:!0,message:"请选择是否是赠险",trigger:"blur"}],intro:[{required:!0,message:"请输入介绍",trigger:"blur"}],scope:[{required:!0,message:"请输入作用范围",trigger:"blur"}]}}},created:function(){var e=this,r=this;r.$api.get("/holder/option/all",null,function(e){200===e.code&&(r.titleArr=e.data)},function(r){e.$router.push({path:"/login"})}),r.$api.get("/insurerproduct/insuranceCategory",null,function(e){console.log(e.data),200===e.code?r.categoryOption=e.data:alert(e.message)},function(e){r.$router.push("/login")})},methods:{handleSave:function(e){var r=this,t=this;t.$refs[e].validate(function(e){e&&(r.editLoading=!0,t.$api.post("/product",t.form,function(e){200===e.code?(r.$message({message:"操作成功！",type:"success"}),r.editLoading=!1,console.log(t.form),r.$router.push("/product_list")):(alert(e.message),r.editLoading=!1)},function(e){r.$router.push({path:"/login"})}))})},handleCancel:function(){this.$router.push({path:"/product_list"})},resetForm:function(e){this.$refs[e].resetFields()}}},l=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-form",{ref:"form",attrs:{"label-position":e.labelPosition,"label-width":"150px",rules:e.rules,model:e.form}},[t("el-form-item",{attrs:{label:"保障产品编号",prop:"code"}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保障名称",prop:"name"}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"投保人",prop:"holderId"}},[t("el-select",{model:{value:e.form.holderId,callback:function(r){e.$set(e.form,"holderId",r)},expression:"form.holderId"}},e._l(e.titleArr,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"保额",prop:"coverage"}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.form.coverage,callback:function(r){e.$set(e.form,"coverage",r)},expression:"form.coverage"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否是赠险",prop:"free"}},[t("el-radio-group",{model:{value:e.form.free,callback:function(r){e.$set(e.form,"free",r)},expression:"form.free"}},[t("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"期数（月）",prop:"span"}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.form.span,callback:function(r){e.$set(e.form,"span",r)},expression:"form.span"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"险种",prop:"category"}},[t("el-select",{model:{value:e.form.category,callback:function(r){e.$set(e.form,"category",r)},expression:"form.category"}},e._l(e.categoryOption,function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.form.priority,callback:function(r){e.$set(e.form,"priority",r)},expression:"form.priority"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"介绍",prop:"intro"}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.form.intro,callback:function(r){e.$set(e.form,"intro",r)},expression:"form.intro"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否支持微信进件",prop:"wechatSupported"}},[t("el-radio-group",{model:{value:e.form.wechatSupported,callback:function(r){e.$set(e.form,"wechatSupported",r)},expression:"form.wechatSupported"}},[t("el-radio",{attrs:{label:!0}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"作用范围",prop:"scope"}},[t("el-input",{staticStyle:{width:"80%"},model:{value:e.form.scope,callback:function(r){e.$set(e.form,"scope",r)},expression:"form.scope"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.editLoading,expression:"editLoading"}],attrs:{type:"primary"},on:{click:function(r){e.handleSave("form")}}},[e._v("添加")]),e._v(" "),t("el-button",{on:{click:function(r){e.handleCancel()}}},[e._v("取消")]),e._v(" "),t("el-button",{on:{click:function(r){e.resetForm("form")}}},[e._v("重置")])],1)],1)},a=[],i={render:l,staticRenderFns:a},s=i,n=t("VU/8"),c=n(o,s,!1,null,null,null);r.default=c.exports}});