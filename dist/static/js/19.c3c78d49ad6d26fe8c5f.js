webpackJsonp([19],{"3n6A":function(e,n,t){n=e.exports=t("FZ+f")(!1),n.push([e.i,'\n.upload_file {\n  display: inline-block;\n  position: relative;\n  border-radius: 3px;\n}\n.upload_file input[type=file] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom:0;\n  right:0;\n  width: 100%;\n  opacity: 0;\n  cursor: pointer;\n}\n.upload_file .submit_style {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  font-family: "Microsoft yahei";\n  background-color: #409eff;\n  color: #FFF;\n  text-decoration: none;\n}\n.submit_style{\n  padding:8px 12px;\n  border:none;\n  background-color: #409eff;\n  border-radius: 3px;\n  color: #fff;\n}\n.download{\n  display: inline-block;\n  padding: 8px 12px;\n  border: none;\n  background-color: #409eff;\n  border-radius: 3px;\n  color: #fff;\n  font-size: 13px;\n}\n',""])},"9ZJY":function(e,n,t){var i=t("3n6A");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("rjj0")("d3056492",i,!0)},ZdHa:function(e,n,t){"use strict";function i(e){t("9ZJY")}Object.defineProperty(n,"__esModule",{value:!0});var l=(t("mtWM"),{data:function(){return{isAble:!0,isProduct:!1,editLoading:!1,formInline:{file:"",filename:"",startLine:"2",pId:"Z",num:"AA",time:"AB",beginDate:"AC",endDate:"AD"},dataArr:[],rules:{startLine:[{required:!0,message:"请输入数据开始行",trigger:"blur"}],pId:[{required:!0,message:"请输入保单号所在列",trigger:"blur"}],num:[{required:!0,message:"请输入保单号所在列",trigger:"blur"}],time:[{required:!0,message:"请输入保单生成时间所在列",trigger:"blur"}],beginDate:[{required:!0,message:"请输入保险起期所在列",trigger:"blur"}],endDate:[{required:!0,message:"请输入保险止期所在列",trigger:"blur"}],file:[{required:!0,message:"请上传文件",trigger:"blur"}]}}},created:function(){},methods:{uploadFile:function(e){this.formInline.file=e.target.files[0],this.formInline.filename=e.target.files[0].name},onSubmit:function(e){var n=this,t=this;t.$refs.formInline.validate(function(i){if(!i)return console.log("error submit!!"),!1;if(n.formInline.file.size/1024/1024<=2){n.editLoading=!0;var l=new FormData;l.append("startLine",t.formInline.startLine),l.append("columns",[t.formInline.pId,t.formInline.num,t.formInline.time,t.formInline.beginDate,t.formInline.endDate]),l.append("file",t.formInline.file),t.$api.post("/policy/import",l,function(i){200===i.code?(alert(i.message),t.dataArr=i.data,t.$refs[e].resetFields(),document.getElementById("file").value="",t.formInline.filename=""):alert(i.message),n.editLoading=!1},function(e){n.$router.push({path:"/login"})})}else alert("上传文件不能超过2MB,请重新上传")})}}}),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",{staticClass:"top"},[t("div",{staticClass:"title",staticStyle:{"margin-bottom":"20px"}},[e._v("导入保单")]),e._v(" "),t("el-form",{ref:"formInline",attrs:{inline:!0,model:e.formInline,rules:e.rules}},[t("el-form-item",{attrs:{label:"开始行",prop:"startLine"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入数据开始行"},model:{value:e.formInline.startLine,callback:function(n){e.$set(e.formInline,"startLine",n)},expression:"formInline.startLine"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保单ID",prop:"pId"}},[t("el-input",{attrs:{placeholder:"请输入保单ID所在列"},model:{value:e.formInline.pId,callback:function(n){e.$set(e.formInline,"pId",n)},expression:"formInline.pId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保单号",prop:"num"}},[t("el-input",{attrs:{placeholder:"请输入保单号所在列"},model:{value:e.formInline.num,callback:function(n){e.$set(e.formInline,"num",n)},expression:"formInline.num"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保单生成时间",prop:"time"}},[t("el-input",{attrs:{placeholder:"请输入保单生成时间所在列"},model:{value:e.formInline.time,callback:function(n){e.$set(e.formInline,"time",n)},expression:"formInline.time"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保险起期",prop:"beginDate"}},[t("el-input",{attrs:{placeholder:"请输入保险起期所在列"},model:{value:e.formInline.beginDate,callback:function(n){e.$set(e.formInline,"beginDate",n)},expression:"formInline.beginDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保险止期",prop:"endDate"}},[t("el-input",{attrs:{placeholder:"请输入保险止期所在列"},model:{value:e.formInline.endDate,callback:function(n){e.$set(e.formInline,"endDate",n)},expression:"formInline.endDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"选择订单文件",prop:"file"}},[t("div",{staticClass:"upload_file"},[t("input",{ref:"file",attrs:{type:"file",name:"file",id:"file"},on:{change:e.uploadFile}}),e._v(" "),t("input",{staticClass:"submit_style",attrs:{type:"button",size:"small",value:"上传文件"}})]),e._v(" "),t("div",{staticClass:"fileName",staticStyle:{display:"inline"},domProps:{textContent:e._s(e.formInline.filename)}})]),e._v(" "),t("el-form-item",[e.editLoading?t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.editLoading,expression:"editLoading"}],attrs:{type:"primary",size:"medium",disabled:""}},[e._v("上传到服务器")]):t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(n){e.onSubmit("formInline")}}},[e._v("上传到服务器")]),e._v(" "),t("div",{staticStyle:{display:"inline"}},[e._v("只能上传.xlsx/.xls文件，且不超过2MB")])],1)],1),e._v(" "),t("el-form",{attrs:{inline:!0}},e._l(e.dataArr,function(n){return t("div",{staticStyle:{color:"red"},domProps:{textContent:e._s(n)}})}))],1)])},o=[],a={render:r,staticRenderFns:o},s=a,m=t("VU/8"),d=i,f=m(l,s,!1,d,null,null);n.default=f.exports}});