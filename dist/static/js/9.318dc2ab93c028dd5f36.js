webpackJsonp([9],{"4MyM":function(e,t,r){var a=r("qb02");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("rjj0")("79d8759d",a,!0)},qb02:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"\n.el-pagination {\n  text-align: center;\n  margin-top: 30px;\n}\n/*.el-message-box__btns .cancel {*/\n/*float: right;*/\n/*margin-left: 10px;*/\n/*}*/\n/*title*/\n.title{\n  border-bottom: 1.5px solid #aaa;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n}\n/*!*修改样式*!*/\n.el-table .cell, .el-table th>div{\n  padding-left: 10px!important;\n  padding-right: 10px;\n  font-size:12.5px;\n}\n.el-button--small, .el-button--small.is-round{\n  padding: 9px 12px;\n}\n",""])},zyhA:function(e,t,r){"use strict";function a(e){r("4MyM")}Object.defineProperty(t,"__esModule",{value:!0});var l=r("fZjL"),n=r.n(l),o={data:function(){return{formInline:{orderId:this.$store.state.orderId,insuredIdNumber:this.$store.state.insuredIdNumber,insuredName:this.$store.state.insuredName,insuredMobile:this.$store.state.insuredMobile,productCode:this.$store.state.productCode,orderInsuredTime1:this.$store.state.orderInsuredTime1,orderInsuredTime2:this.$store.state.orderInsuredTime2,orderStatus:this.$store.state.orderStatus,vin:this.$store.state.vin,category:this.$store.state.category,requestId:this.$store.state.requestId,PolicyId:this.$store.state.PolicyId},isDate1:"",isDate2:"",titleArr:[],statusArr:[],categoryArr:[],tableData:[],loading:!0,total:1,pageSize:this.$store.state.pageSize,currentPage:this.$store.state.currentPage,select:this.$store.state.select,entryTime:this.$store.state.entryTime,categoryShow:!0}},created:function(){var e=this,t=this;t.formInline.size=t.pageSize,t.formInline.page=t.currentPage-1,t.$api.get("/order/selectAll",t.formInline,function(e){console.log(e.data),200===e.code&&(t.getTable(e),console.log(t.tableData)),t.loading=!1},function(t){e.$router.push({path:"/login"})}),t.$api.get("/product/option/all",null,function(e){console.log(e.data),200===e.code?t.titleArr=e.data:alert(e.message)}),t.$api.get("/gift_order/order_status",null,function(e){console.log(e.data),200===e.code?t.statusArr=e.data:alert(e.message)}),t.$api.get("/enum/vehicleCategory/values",null,function(e){console.log(e.data),200===e.code?n()(e.data).length>1?t.categoryArr=e.data:t.categoryShow=!1:alert(e.message)})},methods:{getTable:function(e){var t=this;t.total=e.data.total,t.tableData=e.data.content;for(var r=0;r<e.data.content.length;r++)t.tableData[r].createdAt=t.getDate(e.data.content[r].createdAt),null!==e.data.content[r].mode&&""!==e.data.content[r].mode&&(t.tableData[r].modeValue=e.data.content[r].mode.value);t.pageSize=e.data.size,t.loading=!1},onSubmit:function(){var e=this,t=this;t.select=!0,t.loading=!0;var r=t.formInline;""!==t.entryTime&&null!==t.entryTime&&0!==t.entryTime.length?(t.isDate2=t.entryTime[1],t.isDate1=t.entryTime[0],r.orderInsuredTime1=t.getTimeStamp(t.isDate1.split("-")[0],t.isDate1.split("-")[1],t.isDate1.split("-")[2]),r.orderInsuredTime2=1e3*(t.getTimeStamp(t.isDate2.split("-")[0],t.isDate2.split("-")[1],t.isDate2.split("-")[2])/1e3+86399)):(r.orderInsuredTime1="",r.orderInsuredTime2=""),t.$store.state.orderId=r.orderId,t.$store.state.insuredIdNumber=r.insuredIdNumber,t.$store.state.insuredName=r.insuredName,t.$store.state.insuredMobile=r.insuredMobile,t.$store.state.productCode=r.productCode,t.$store.state.orderStatus=r.orderStatus,t.$store.state.vin=r.vin,t.$store.state.category=r.category,t.$store.state.requestId=r.requestId,t.$store.state.PolicyId=r.PolicyId,t.$store.state.select=t.select;var a=[];""!==r.orderInsuredTime1&&null!==r.orderInsuredTime1&&(t.$store.state.orderInsuredTime1=r.orderInsuredTime1,a.push(t.getTimeDate(r.orderInsuredTime1))),""!==r.orderInsuredTime2&&null!==r.orderInsuredTime2&&(t.$store.state.orderInsuredTime2=r.orderInsuredTime2,a.push(t.getTimeDate(r.orderInsuredTime2))),this.$store.state.entryTime=a,console.log(r),t.$api.get("/order/selectAll",r,function(e){console.log(e.data),200===e.code?t.getTable(e):alert(e.message),t.loading=!1},function(t){e.$router.push({path:"/login"})})},show_detail:function(e){localStorage.removeItem("idNo"),localStorage.setItem("idNo",this.tableData[e].id),this.$router.push({path:"/gift_order_detail"})},handleSizeChange:function(e){var t=this,r=this;r.loading=!0,r.pageSize=e,this.$store.state.pageSize=e;var a={};r.select?(console.log(r.formInline),a=r.formInline,""!==r.entryTime&&null!==r.entryTime&&0!==r.entryTime.length?(r.isDate2=r.entryTime[1],r.isDate1=r.entryTime[0],a.orderInsuredTime1=r.getTimeStamp(r.isDate1.split("-")[0],r.isDate1.split("-")[1],r.isDate1.split("-")[2]),a.orderInsuredTime2=1e3*(r.getTimeStamp(r.isDate2.split("-")[0],r.isDate2.split("-")[1],r.isDate2.split("-")[2])/1e3+86399)):(a.orderInsuredTime1="",a.orderInsuredTime2=""),a.size=r.pageSize,a.page=r.currentPage-1):(a.size=r.pageSize,a.page=r.currentPage-1),r.$api.get("/order/selectAll",a,function(e){console.log(e.data),200===e.code&&(r.getTable(e),r.loading=!1),r.loading=!1},function(e){t.$router.push({path:"/login"})})},handleCurrentChange:function(e){var t=this,r=this;r.loading=!0,r.currentPage=e,this.$store.state.currentPage=e;var a={};r.select?(a=r.formInline,""!==r.entryTime&&null!==r.entryTime&&0!==r.entryTime.length?(r.isDate2=r.entryTime[1],r.isDate1=r.entryTime[0],a.orderInsuredTime1=r.getTimeStamp(r.isDate1.split("-")[0],r.isDate1.split("-")[1],r.isDate1.split("-")[2]),a.orderInsuredTime2=1e3*(r.getTimeStamp(r.isDate2.split("-")[0],r.isDate2.split("-")[1],r.isDate2.split("-")[2])/1e3+86399)):(a.orderInsuredTime1="",a.orderInsuredTime2=""),a.size=r.pageSize,a.page=r.currentPage-1):(a.size=r.pageSize,a.page=r.currentPage-1),r.$api.get("/order/selectAll",a,function(e){console.log(e.data),200===e.code&&(r.getTable(e),r.loading=!1),r.loading=!1},function(e){t.$router.push({path:"/login"})})}}},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"title"},[e._v("保障查询")]),e._v(" "),r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"订单号"}},[r("el-input",{model:{value:e.formInline.orderId,callback:function(t){e.$set(e.formInline,"orderId",t)},expression:"formInline.orderId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"被保人姓名"}},[r("el-input",{model:{value:e.formInline.insuredName,callback:function(t){e.$set(e.formInline,"insuredName",t)},expression:"formInline.insuredName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"身份证号码"}},[r("el-input",{model:{value:e.formInline.insuredIdNumber,callback:function(t){e.$set(e.formInline,"insuredIdNumber",t)},expression:"formInline.insuredIdNumber"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码"}},[r("el-input",{model:{value:e.formInline.insuredMobile,callback:function(t){e.$set(e.formInline,"insuredMobile",t)},expression:"formInline.insuredMobile"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"保障产品"}},[r("el-select",{attrs:{placeholder:"保障产品"},model:{value:e.formInline.productCode,callback:function(t){e.$set(e.formInline,"productCode",t)},expression:"formInline.productCode"}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.titleArr,function(e){return r("el-option",{key:e.name,attrs:{label:e.name,value:e.code}})})],2)],1),e._v(" "),r("el-form-item",{attrs:{label:"进件时间"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.entryTime,callback:function(t){e.entryTime=t},expression:"entryTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单状态"}},[r("el-select",{attrs:{placeholder:"订单状态"},model:{value:e.formInline.orderStatus,callback:function(t){e.$set(e.formInline,"orderStatus",t)},expression:"formInline.orderStatus"}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.statusArr,function(e,t){return r("el-option",{key:t,attrs:{label:t,value:e}})})],2)],1),e._v(" "),r("el-form-item",{attrs:{label:"车架号"}},[r("el-input",{model:{value:e.formInline.vin,callback:function(t){e.$set(e.formInline,"vin",t)},expression:"formInline.vin"}})],1),e._v(" "),e.categoryShow?r("el-form-item",{attrs:{label:"品类"}},[r("el-select",{attrs:{placeholder:"品类"},model:{value:e.formInline.category,callback:function(t){e.$set(e.formInline,"category",t)},expression:"formInline.category"}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.categoryArr,function(e,t){return r("el-option",{key:t,attrs:{label:t,value:e}})})],2)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"请求ID"}},[r("el-input",{model:{value:e.formInline.requestId,callback:function(t){e.$set(e.formInline,"requestId",t)},expression:"formInline.requestId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"保单号"}},[r("el-input",{model:{value:e.formInline.PolicyId,callback:function(t){e.$set(e.formInline,"PolicyId",t)},expression:"formInline.PolicyId"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),r("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"id",label:"保障订单号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"createdAt",label:"进件时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"product.name",label:"保障名称",width:"140"}}),e._v(" "),r("el-table-column",{attrs:{prop:"insured.name",label:"被保人姓名",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"insured.idNumber",label:"身份证号码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"insured.mobile",label:"手机号码",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"modeValue",label:"进件来源",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"insured.livingProvince",label:"所属地区",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"status",label:"订单状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.refusalReason?r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("退回原因: "+e._s(t.row.refusalReason))]),e._v(" "),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.status.value))])],1)]):r("div",[e._v(e._s(t.row.status.value))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.show_detail(t.$index)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total,sizes,prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)],1)],1)],1)},s=[],d={render:i,staticRenderFns:s},u=d,m=r("VU/8"),c=a,p=m(o,u,!1,c,null,null);t.default=p.exports}});