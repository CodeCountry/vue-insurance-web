webpackJsonp([33],{"vl/7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={data:function(){return{labelPosition:"left",editLoading:!1,form:{},rules:{name:[{required:!0,message:"请输入路由名称",trigger:"blur"}],intro:[{required:!0,message:"请输入路由介绍",trigger:"blur"}],product:[{required:!0,message:"请输入保障产品",trigger:"blur"}],insurerProduct:[{required:!0,message:"请选择保险公司",trigger:"blur"}],priority:[{required:!0,message:"请输入纯数字的优先级",trigger:"blur"}],conditions:[{required:!0,message:"请输入条件范围",trigger:"blur"}]},titleArr:[]}},created:function(){var e=this;e.form.product=JSON.parse(localStorage.getItem("product")).productName,e.$api.get("/insurerproduct/option/all",null,function(t){console.log(t.data),200===t.code&&(e.titleArr=t.data)})},methods:{handleSave:function(e){var t=this,r=this;r.$refs[e].validate(function(e){e&&(t.editLoading=!0,r.form.productId=JSON.parse(localStorage.getItem("product")).id,r.form.insurerProductId=r.form.insurerProduct,r.$api.post("/insuranceroute/",r.form,function(e){200===e.code?(t.$message({message:"操作成功！",type:"success"}),t.editLoading=!1,t.$router.push("/product_detail")):(alert(e.message),t.editLoading=!1)},function(e){t.$router.push({path:"/login"})}))})},handleCancel:function(){this.$router.push({path:"/product_detail"})},resetForm:function(e){this.$refs[e].resetFields()}}},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"form",attrs:{"label-position":e.labelPosition,"label-width":"110px",rules:e.rules,model:e.form}},[r("el-form-item",{attrs:{label:"路由名称",prop:"name"}},[r("el-input",{staticStyle:{width:"80%"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"路由介绍",prop:"intro"}},[r("el-input",{staticStyle:{width:"80%"},model:{value:e.form.intro,callback:function(t){e.$set(e.form,"intro",t)},expression:"form.intro"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"保障产品",prop:"product"}},[r("el-input",{staticStyle:{width:"80%"},attrs:{disabled:"disabled"},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"保险产品",prop:"insurerProduct"}},[r("el-select",{model:{value:e.form.insurerProduct,callback:function(t){e.$set(e.form,"insurerProduct",t)},expression:"form.insurerProduct"}},e._l(e.titleArr,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[r("el-input",{staticStyle:{width:"80%"},attrs:{type:"number"},model:{value:e.form.priority,callback:function(t){e.$set(e.form,"priority",t)},expression:"form.priority"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"触发条件",prop:"conditions"}},[r("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea"},model:{value:e.form.conditions,callback:function(t){e.$set(e.form,"conditions",t)},expression:"form.conditions"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.editLoading,expression:"editLoading"}],attrs:{type:"primary"},on:{click:function(t){e.handleSave("form")}}},[e._v("添加")]),e._v(" "),r("el-button",{on:{click:function(t){e.handleCancel()}}},[e._v("取消")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)},l=[],n={render:i,staticRenderFns:l},a=n,s=r("VU/8"),u=s(o,a,!1,null,null,null);t.default=u.exports}});